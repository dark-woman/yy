<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">

<style type="text/css">
</style>

<script src="http://cdnjs.cloudflare.com/ajax/libs/ocanvas/2.7.3/ocanvas.min.js"></script>
<script src="http://code.jquery.com/jquery-2.0.0.min.js"></script>

<body>

<canvas id="canvas" width='1000' height='730'></canvas>
<div id="title"></div>

<script type="text/javascript">
var canvas = oCanvas.create({
	canvas: "#canvas", // 操作するCanvasタグを指定
	background: "rgba(0,0,0,1)"
});

data = [{title: 'たいとる', feasibility: 88, motivation: 58},
				{title: 'たいとる２', feasibility: 13, motivation: 48}]

var circles = [];
var increase = true;

$.each(data, function(i, circle) {
	circles[i] = canvas.display.arc({
		x: canvas.width / 2, y: canvas.height / 2,
		radius: canvas.width / 5,
		fill: "rgba(255,255,255,1)",
		start: 0,
		end: 360,
		stroke: "1px #fff"
	}).add().dragAndDrop({
		end: function() {
			console.log( Math.round(circles[i].x), Math.round(circles[i].y) )
			var hoge = canvas.display.arc({
				x: circles[i].x, y: circles[i].y,
				radius: canvas.width / 4.6,
				start: 0,
				end: 0,
				stroke: "1px #fff"
			}).add().animate({
				start: 0,
				end: 360,
			}, 1000, function() {
				this.fadeOut();
			});
		}
	});

	circles[i].bind("mouseenter touchenter", function () {
		circles[i].fill = "#e67e22";
		canvas.redraw();
		$('#title').text('').append('title: ' + data[i].title + '<br>feasibility: ' + data[i].feasibility  );
		console.log(canvas)
	}).bind("mouseleave touchleave", function () {
		circles[i].fill = "rgba(255,255,255,1)";
		canvas.redraw();
	})
})

// var increase = true;
// circles[0].bind("click tap", function () {
// 	if (increase) {
// 		increase = false;
// 		this.stop().animate({
// 			radius: canvas.width / 4,
// 		});
// 	} else {
// 		increase = true;
// 		this.stop().animate({
// 			fill: "#fff",
// 			radius: canvas.width / 5,
// 		});
// 	}
// });

</script>
</body>
</html>